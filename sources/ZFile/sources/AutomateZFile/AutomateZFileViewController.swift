//
//  ViewController.swift
//  AutomateZFile
//
//  Created by Stijn on 21/12/2018.
//  Copyright Â© 2018 dooz. All rights reserved.
//

import Cocoa
import SignPost

class AutomateZFileViewController: NSViewController {

    lazy var signPost: SignPostProtocol = SignPost.shared

    @IBAction func runSourcery(_ sender: NSButton) {
        do {
            signPost.message("ğŸ§™â€â™‚ï¸ Running Sourcery for ZFile from button.")
            let sourceryWorker = try ZFileSourceryWorker(signPost: signPost)
            try sourceryWorker.attempt()
            signPost.message("ğŸ§™â€â™‚ï¸ âœ… output can be found at \n\(sourceryWorker.autoGeneratedCodeFolder.path)\nğŸ§™â€â™‚ï¸")
        } catch {
            signPost.error("âŒ\n\(error)\nâŒ")
        }
    }
    
}

